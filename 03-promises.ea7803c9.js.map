{"version":3,"sources":["js/03-promises.js"],"names":["refs","form","document","querySelector","submit","firstDelay","stepDelay","amountPromises","onFormClick","e","Number","currentTarget","elements","delay","value","step","amount","console","log","onSubmitClick","preventDefault","i","createPromise","then","position","catch","promise","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener"],"mappings":";AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,OAAQF,SAASC,cAAc,WAOjC,IAAIE,EACAC,EACAC,EACJ,SAASC,EAAYC,GAOnBJ,EAAaK,OAAOD,EAAEE,cAAcC,SAASC,MAAMC,OACnDR,EAAYI,OAAOD,EAAEE,cAAcC,SAASG,KAAKD,OACjDP,EAAiBG,OAAOD,EAAEE,cAAcC,SAASI,OAAOF,OACxDG,QAAQC,IAAIb,GACZY,QAAQC,IAAIZ,GACZW,QAAQC,IAAIX,GAGd,SAASY,EAAcV,GACrBA,EAAEW,iBACFH,QAAQC,IAAI,4CAMRL,IAAAA,EAAQR,EACP,IAAA,IAAIgB,EAAI,EAAGA,GAAKd,EAAgBc,GAAK,EACxCC,EAAcD,EAAGR,GACdU,KAAK,EAAGC,SAAAA,EAAUX,MAAAA,MACjBI,QAAQC,0BAA0BM,QAAeX,SAElDY,MAAM,EAAGD,SAAAA,EAAUX,MAAAA,MAClBI,QAAQC,yBAAyBM,QAAeX,SAEpDA,GAAgBP,EAGpB,SAASgB,EAAcE,EAAUX,GACzBa,MAAAA,EAAU,IAAIC,QAAQ,CAACC,EAASC,KAC9BC,MAAAA,EAAgBC,KAAKC,SAAW,GACtCC,WAAW,KACLH,EACFF,EAAQ,CAAEJ,SAAAA,EAAUX,MAAAA,IAEpBgB,EAAO,CAAEL,SAAAA,EAAUX,MAAAA,KAEpBA,KAGEa,OADPT,QAAQC,IAAIQ,GACLA,EAvDTT,QAAQC,IAAIlB,EAAKC,MACjBgB,QAAQC,IAAIlB,EAAKI,QACjBJ,EAAKC,KAAKiC,iBAAiB,QAAS1B,GACpCR,EAAKI,OAAO8B,iBAAiB,QAASf","file":"03-promises.ea7803c9.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  form: document.querySelector('.form'),\n  submit: document.querySelector('button'),\n};\nconsole.log(refs.form);\nconsole.log(refs.submit);\nrefs.form.addEventListener('input', onFormClick);\nrefs.submit.addEventListener('click', onSubmitClick);\n\nlet firstDelay;\nlet stepDelay;\nlet amountPromises;\nfunction onFormClick(e) {\n  // console.log(e.target.value);\n\n  // console.log(e.currentTarget.elements.delay.value);\n  // console.log(e.currentTarget.elements.step.value);\n  // console.log(e.currentTarget.elements.amount.value);\n\n  firstDelay = Number(e.currentTarget.elements.delay.value);\n  stepDelay = Number(e.currentTarget.elements.step.value);\n  amountPromises = Number(e.currentTarget.elements.amount.value);\n  console.log(firstDelay);\n  console.log(stepDelay);\n  console.log(amountPromises);\n}\n\nfunction onSubmitClick(e) {\n  e.preventDefault();\n  console.log('вызываем функцию, которая создает промис');\n  // for (let i = 1; i <= amountPromises; i += 1) {\n  //    let delay = firstDelay;\n  //   createPromise(i, delay);\n  //   delay = delay + stepDelay;\n  // }\n  let delay = firstDelay;\n  for (let i = 1; i <= amountPromises; i += 1) {\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n        console.log(` Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(` Rejected promise ${position} in ${delay}ms`);\n      });\n    delay = delay + stepDelay;\n  }\n}\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n  console.log(promise);\n  return promise;\n}\n\n// createPromise(2, 1500)\n"]}